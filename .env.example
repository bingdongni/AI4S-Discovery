# AI4S-Discovery 环境配置文件
# 复制此文件为 .env 并填写实际配置值

# ============ 基础配置 ============
APP_NAME=AI4S-Discovery
APP_VERSION=1.0.0
DEBUG=False
ENVIRONMENT=production

# ============ 硬件配置 ============
# 设备选择: auto, cpu, cuda
DEVICE=auto
# 最大工作线程数
MAX_WORKERS=4
# 内存限制（GB）
MEMORY_LIMIT=12
# GPU内存限制（GB，仅GPU模式）
GPU_MEMORY_LIMIT=4

# ============ 数据库配置 ============
# SQLite数据库路径
SQLITE_PATH=./data/metadata.db

# Neo4j图数据库配置
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_neo4j_password_here
NEO4J_DATABASE=ai4s

# Redis缓存配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# 向量数据库配置
VECTOR_DB_PATH=./data/vector_db
VECTOR_DB_COLLECTION=papers

# ============ API服务配置 ============
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
API_KEY=your_api_key_here_change_in_production

# Web界面配置
WEB_HOST=0.0.0.0
WEB_PORT=8501

# ============ 学术数据源API密钥 ============
# arXiv API（无需密钥，但建议设置邮箱）
ARXIV_EMAIL=your.email@example.com

# PubMed API密钥
PUBMED_API_KEY=

# Semantic Scholar API密钥
SEMANTIC_SCHOLAR_API_KEY=

# IEEE Xplore API密钥
IEEE_API_KEY=

# Springer API密钥
SPRINGER_API_KEY=

# Elsevier API密钥
ELSEVIER_API_KEY=

# ============ LLM配置 ============
# OpenAI API配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.7

# 本地模型配置
USE_LOCAL_MODEL=False
LOCAL_MODEL_PATH=./models/minicpm

# LLM通用配置
LLM_PROVIDER=openai
LLM_MAX_RETRIES=3
LLM_TIMEOUT=60

# ============ 模型配置 ============
# 模型存储路径
MODEL_PATH=./models

# 使用量化模型
USE_QUANTIZATION=True
QUANTIZATION_BITS=8

# MiniCPM模型配置
MINICPM_MODEL_NAME=openbmb/MiniCPM-2B-sft-bf16
MINICPM_MAX_LENGTH=2048

# 嵌入模型配置
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# ============ 爬虫配置 ============
# 并发请求数
CRAWLER_CONCURRENCY=5
# 请求超时（秒）
CRAWLER_TIMEOUT=30
# 重试次数
CRAWLER_RETRY=3
# 请求延迟（秒）
CRAWLER_DELAY=1

# User-Agent池（用逗号分隔）
USER_AGENTS=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36,Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101

# 代理配置（可选）
HTTP_PROXY=
HTTPS_PROXY=

# ============ 安全配置 ============
# 数据加密密钥（32字节，请更改）
ENCRYPTION_KEY=your_32_byte_encryption_key_here_change_this_in_production

# JWT密钥
JWT_SECRET=your_jwt_secret_key_here_change_in_production
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# Session超时（秒）
SESSION_TIMEOUT=3600

# ============ 日志配置 ============
LOG_LEVEL=INFO
LOG_PATH=./logs
LOG_FORMAT=<green>{time:YYYY-MM-DD HH:mm:ss}</green> | <level>{level: <8}</level> | <cyan>{name}</cyan>:<cyan>{function}</cyan>:<cyan>{line}</cyan> - <level>{message}</level>
LOG_ROTATION=daily
LOG_RETENTION=30
LOG_COMPRESSION=zip

# ============ 缓存配置 ============
# 缓存过期时间（秒）
CACHE_TTL=3600
# 最大缓存大小（MB）
CACHE_MAX_SIZE=1024

# ============ 任务调度配置 ============
# 任务队列最大长度
TASK_QUEUE_MAX_SIZE=1000
# 任务超时时间（秒）
TASK_TIMEOUT=3600
# 任务清理间隔（秒）
TASK_CLEANUP_INTERVAL=300

# ============ 报告生成配置 ============
# 报告输出路径
REPORT_OUTPUT_PATH=./reports
# 报告模板路径
REPORT_TEMPLATE_PATH=./templates
# 支持的报告格式（逗号分隔）
REPORT_FORMATS=pdf,docx,html,markdown

# ============ 性能监控配置 ============
# 启用Prometheus监控
ENABLE_PROMETHEUS=True
PROMETHEUS_PORT=9090

# 性能指标收集间隔（秒）
METRICS_INTERVAL=60

# ============ 文献处理配置 ============
# 每日最大处理文献数
MAX_PAPERS_PER_DAY=50000
# 文献质量评分阈值
PAPER_QUALITY_THRESHOLD=40
# PDF解析超时（秒）
PDF_PARSE_TIMEOUT=30

# ============ 图谱构建配置 ============
# 图谱最大节点数
GRAPH_MAX_NODES=1000000
# 图谱分片大小
GRAPH_CHUNK_SIZE=10000
# 图谱更新间隔（秒）
GRAPH_UPDATE_INTERVAL=3600

# ============ TRL评估配置 ============
# TRL评估模型路径
TRL_MODEL_PATH=./models/trl_classifier
# TRL评估置信度阈值
TRL_CONFIDENCE_THRESHOLD=0.8

# ============ 假设生成配置 ============
# 每次生成假设数量
HYPOTHESIS_COUNT=5
# 假设最小置信度
HYPOTHESIS_MIN_CONFIDENCE=0.7
# 假设生成温度
HYPOTHESIS_TEMPERATURE=0.8
# 假设生成最大token数
HYPOTHESIS_MAX_TOKENS=1024

# ============ 反事实推理配置 ============
# 反事实场景数量
COUNTERFACTUAL_SCENARIOS=3
# 反事实推理深度
COUNTERFACTUAL_DEPTH=2

# ============ 开发配置 ============
# 启用调试模式
ENABLE_DEBUG=False
# 启用性能分析
ENABLE_PROFILING=False
# 启用详细日志
VERBOSE_LOGGING=False
